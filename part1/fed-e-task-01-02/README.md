# Part1-2 作业

( 请在当前文件直接作答 )

## 简答题

### 1. 请说出下列最终执行结果，并解释为什么?

```javascript
var a = [];
for(var i = 0; i < 10; i++) {
  a[i] = function() {
    console.log(i)
  }
}
a[6]()
```

> 结果：10
>
> 原因：i会发生变量声明提升，等到循环结束时，i的值是10，最终输出的就是10。

　

### 2. 请说出此案列最终执行结果，并解释为什么?

```javascript
var tmp = 123;
if (true) {
  console.log(tmp);
  let tmp;
}
```

> 结果：报错
>
> 原因：if语句中开启了新的作用域，该作用域中的tmp并未声明。

　

### 3. 结合ES6语法，用最简单的方式找出数组中的最小值

```javascript
var arr = [12, 34, 32, 89, 4]
```

> Math.min(...arr)
>

　

### 4. 请详细说明var、let、const三种声明变量的方式之间的具体差别

> var：声明的变量会发生变量提升，可以先使用后声明
>
> let：声明变量，必须先声明后使用，声明之后可以进行改值
>
> const：声明常量，一旦声明不允许修改，必须先声明后使用

　

### 5. 请说出下列代码最终输出结果，并解释为什么？

```javascript
var a = 10;
var obj = {
  a: 20,
  fn() {
    setTimeout(() => {
      console.log(this.a)
    })
  }
}
obj.fn()
```

> 结果：20
>
> 原因：setTimeout箭头函数中的this指向执行上下文，其作用于obj作用域之中，所以取值是obj中a的值20

　

### 6. 简述Symbol类型的用途

> 常用来作为对象独一无二的健值，或者作为某个对象内部的私有成员变量　
>

　

### 7. 说说什么是浅拷贝，什么是深拷贝？

> 浅拷贝：引用拷贝对象的地址，拷贝对象的值发生变化，拷贝的值也跟着变化，常见的浅拷贝：Object.assign()
>
> 深拷贝：引用拷贝对象的值，拷贝对象的值发生变化，拷贝的值不会发生变化，常见的深拷贝：JSON.parse(JSON.stringfy())

　

### 8. 请简述TypeScript与JavaScript之间的关系？

> TypeScript是JavaScript的超集，对JavaScript语法的一种增强，JavaScript是弱类型语言，TypeScript是强类型语言。
>

　

### 9. 请谈谈你所认为的typescript优缺点

> 优点：可以规范我们编码风格，减少代码语法错误。
>
> 缺点：需要编写大量的接口类型文件

　

### 10. 描述引用计数的工作原理和优缺点

> 工作原理：设置引用数，判断当前引用数值是否为0，当引用关系发生改变时，引用数值会相应改变。引用数值为0时，垃圾回收。
>
> 优点：发现垃圾立即回收，可以大量减少程序暂停。
>
> 缺点：无法回收循环引用，时间开销大。

　

### 11. 描述标记整理算法的工作流程

> a.从根节点出发遍历找到所有的可达对象和不可达对象进行标记。
>
> b.回收不可达对象，在之前先调整内存位置，之后进行回收，达到空间最优。

　

### 12.描述V8中新生代存储区垃圾回收的流程

> a.新生代存储区会划分成两个空间大小一样的空间，一个是活动对象空间From,另一个空闲空间To
>
> b.对活动对象空间From进行标记整理算法垃圾回收
>
> c.将活动对象拷贝至To空间进行临时存储
>
> d.From和To进行空间交换，再次释放To空间
>
> e.经过一轮GC，对于From空间还存活的新生代，To空间的使用率达25%时，会发生晋升，移动到老生代储存区。

　

### 13. 描述增量标记算法在何时使用及工作原理

> a.增量标记算法在老生代GC时使用，在老生代GC时，会交替使用标记清除，标记整理，增量标记算法进行垃圾回收，空间整理，效率优化。
>
> b.工作原理：在程序执行中，进行标记清除算法，让程序和标记交替进行，使用增量标记算法对可达对象进行标记，将长的标记过程切分为一段段小的过程，在这个过程中呢，标记和程序交替执行，最后程序执行完，再进行垃圾回收。

　