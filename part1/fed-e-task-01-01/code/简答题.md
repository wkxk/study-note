## 简答题

#### 谈谈你是如何理解 JS 异步编程的，EventLoop、消息队列都是做什么的，什么是宏任务，什么是微任务？

**答:**

**1.JS 异步编程**: js内部的代码从上往下执行，当我们遇到一个服务器数据请求时，假如我们等待数据回来之后再往下执行，这样的用户体验和代码执行效率就会大打折扣，于是就有了异步编程，在遇到数据请求时，我们在等待数据回来时可以先执行其他代码，待数据返回回来后再去执行相应的代码。类似于这种情形的就是异步编程。

**2.EventLoop**也称为事件循环：

js代码在执行的过程会经历如下阶段：

(1) 同步任务依次进栈，执行栈依循先进后出原则，代码执行完先后出栈，遇到宏任务和微任务会进栈，然后被放到消息队列等待执行。

(2) 同步任务执行完之后，检查消息队列中是否存在宏任务和微任务。

(3) 如果存在微任务，会从消息队列中取出优先处理微任务，直至微任务执行完毕。

(4) 如果存在宏任务，会从消息队列中取出处理宏任务，直至宏任务执行完毕。

(5) 宏任务和微任务全部执行完之后，出栈，代码执行结束。

**3.消息队列**：是用来存储异步任务的一块内存空间。

**4.宏任务**：宿主环境发起，例如浏览器和node，常见的宏任务：Promise

**微任务**：由js发起，常见的微任务：setTimeout,setInterval

